@keyframes blink-warning {
  70% {
    color: @light;
  }
  to {
    color: @light;
    background-color: @warning;
  }
}

@keyframes blink-critical {
  70% {
    color: @light;
  }
  to {
    color: @light;
    background-color: @critical;
  }
}

/* -----------------------------------------------------------------------------
 * Nord Color Palette
 * -------------------------------------------------------------------------- */
@define-color bg                #2E3440;
@define-color light             #D8DEE9;
@define-color warning           #EBCB8B;
@define-color critical          #BF616A;
@define-color mode              #434C5E;
@define-color workspacesfocused #4C566A;

@define-color sound             #EBCB8B;
@define-color network           #5D7096;
@define-color memory            #546484;
@define-color cpu               #596A8D;
@define-color temp              #4D5C78;
@define-color layout            #5E81AC;
@define-color battery           #88C0D0;
@define-color date              #434C5E;
@define-color time              #434C5E;
@define-color backlight         #434C5E;
@define-color nord_bg           #434C5E;
@define-color nord_bg_blue      #546484;
@define-color nord_dark_font    #434C5E;

/* -----------------------------------------------------------------------------
 * Global Styles
 * -------------------------------------------------------------------------- */
* {
  border: none;
  border-radius: 6px;
  min-height: 0;
  margin: 0.3em 0.4em 0.3em 0.4em;
  padding: 0 0.6em;
  font-family: "JetBrainsMono Nerd Font", "Font Awesome 6 Free Solid";
  font-size: 13px;
  font-weight: bold;
}

#waybar {
  background: @bg;
  color: @light;
  border-radius: 0px;
}

/* -----------------------------------------------------------------------------
 * Module Groups
 * -------------------------------------------------------------------------- */
#clock,
#language,
#custom-scratchpad-indicator,
#custom-pacman,
#mode,
#idle_inhibitor,
#custom-media,
#custom-cpugovernor,
#cpu,
#temperature,
#custom-gpu,
#pulseaudio,
#bluetooth,
#network,
#custom-power,
#tray {
  padding: 0 0.7em;
}

/* Blinking for warning/critical states */
#mode,
#temperature,
#battery {
  animation-timing-function: linear;
  animation-iteration-count: infinite;
  animation-direction: alternate;
}

#temperature.critical,
#battery.critical.discharging {
  animation-name: blink-critical;
  animation-duration: 2s;
}

#battery.warning.discharging {
  animation-name: blink-warning;
  animation-duration: 3s;
}

/* -----------------------------------------------------------------------------
 * Individual Modules
 * -------------------------------------------------------------------------- */

/* Clock */
#clock {
  background: @nord_bg_blue;
  color: @light;
}

/* Language */
#language {
  background: @nord_bg_blue;
  color: @light;
  padding: 0 0.5em;
}

/* Scratchpad Indicator */
#custom-scratchpad-indicator {
  background: @nord_bg;
  color: @light;
}

/* Pacman Updates (assuming it shows a number) */
#custom-pacman {
  background: @nord_bg;
  color: @light;
}

/* Mode (resize, etc.) */
#mode {
  background: @mode;
  color: @light;
  font-style: italic;
}

/* Idle Inhibitor (caffeine) */
#idle_inhibitor {
  background: @mode;
  color: @light;
  font-size: 14px;
  padding: 0 1em 0 0.6em;
}

/* Media Player */
#custom-media {
  background: @nord_bg;
  color: @light;
  font-weight: normal;
}

/* CPU Governor */
#custom-cpugovernor {
  background: @nord_bg;
  color: @light;
  padding: 0 0.5em;
}

/* CPU */
#cpu {
  background: @cpu;
  color: @light;
}

/* Temperature */
#temperature {
  background: @temp;
  color: @light;
}

#temperature.critical {
  background: @critical;
  color: @light;
}

/* GPU */
#custom-gpu {
  background: @nord_bg_blue;
  color: @light;
}

/* Pulseaudio */
#pulseaudio {
  background: @sound;
  color: @nord_dark_font;
}

#pulseaudio.muted {
  background: @critical;
  color: @light;
}

/* Bluetooth */
#bluetooth {
  background: @nord_bg_blue;
  color: @light;
}

/* Network */
#network {
  background: @network;
  color: @light;
}

#network.disconnected {
  background: @warning;
  color: @nord_dark_font;
}

/* Power Menu */
#custom-power {
  background: @mode;
  color: @light;
  padding: 0 0.8em;
  font-size: 14px;
}

/* Tray */
#tray {
  background: @nord_bg;
  padding: 0 0.6em;
}

/* Workspaces */
#workspaces button {
  padding: 0 0.4em;
  color: @light;
  opacity: 0.5;
  background: transparent;
  border-radius: 6px;
}

#workspaces button.focused {
  background: @workspacesfocused;
  color: @light;
  opacity: 1;
  box-shadow: none;
}

#workspaces button.urgent {
  background: @critical;
  color: @light;
}
